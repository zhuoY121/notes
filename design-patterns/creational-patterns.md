# Creational patterns

## Singleton Pattern

## Factory Pattern

作用：

- 实现了 创建者 和 调用者 的分离
- 详细分类：
  - 简单工厂模式 （静态工厂模式）
    - 用来生产同一等级结构中的任意产品（对于增加新的产品，需要修改已有代码）
    - 虽然某种程度上不符合设计原则，但因为其简单，所以实际使用的最多
  - 工厂方法模式
    - 用来生产同一等级结构中的固定产品（支持增加任意产品）
  - 抽象工厂模式
    - 围绕一个超级工厂，创建其他工厂。

相关OOP原则：

- 开闭原则：只扩展新功能，不修改原有功能
- 依赖倒置原则：面向接口编程，不要面向实现编程
- 迪米特法则：只和你的直接朋友交谈，不和”陌生人“说话

核心：

- 实例化对象不使用 new 方法，而使用工厂方法代替 new 方法
- 把选择实体类以及创建对象统一管理和控制。从而将调用者和实现类解耦合

### 抽象工厂模式

定义：

- 抽象工厂模式提供了一个 创建一系列相关或者互相依赖的对象的接口，而无需制定它们具体的类

适用场景：

- 客户端（应用层）不依赖于产品类实例如何被创建，实现等细节
- 强调一系列相关的产品对象（属于同一产品族）一起使用创建对象需要大量的重复代码
- 提供一个产品类的库，所有产品以同样的接口出现，从而使得客户端不依赖于具体的实现

优点：

- 具体产品在应用层的代码隔离，无需关心创建的细节
- 将一个系列的产品统一到一起创建

缺点：

- 规定了所有可能被创建的产品集合，产品族中扩展新的产品很困难
- 增加了系统的抽象性和理解难度
